# Copyright 2025 VMware, Inc.
# SPDX-License-Identifier: BSD-2-Clause
---
# Set static IP address on specified network adatper in Windows guest OS.
# Parameters:
#   ethernet_name: Ethernet name in guest OS.
#
- name: "Get '{{ ethernet_name }}' ip in guest OS"
  include_tasks: win_execute_cmd.yml
  vars:
    win_powershell_cmd: "Get-NetIPAddress | where-object {$_.InterfaceAlias -match '{{ ethernet_name }}'} | foreach {$_.IPAddress}"
